#!/bin/bash

sleep_time=1
file_path="$HOME/.time_idle"
counter=$(<$file_path)

while [ 1 ]; do
    if [[ $(date '+%H:%M') == '00:00' ]]; then
        echo '0' > $file_path
    fi
    
    counter=$(<$file_path)
    currentTime=$(xprintidle)
    if [[ "$(( $currentTime / 1000 ))" -lt 10 ]]; then
        counter=$(($counter+$sleep_time))
        echo $counter > $file_path
    fi
    sleep $sleep_time
done
